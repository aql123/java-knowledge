## 交换机队列绑定

##### 创建 exchange

```java
信道.exchangeDeclare(交换机名称,BuiltinExchangeType.FANOUT);
```

> 注意: rabbitmq 提供了默认交换机, 名称为 "" 空字符串

### 5.2.临时队列

每当我们连接到 RabbitMQ 时，都需要一个全新的空队列，为此可以创建一个具有随机名称的队列，或者能让服务器为我们选择一个随机队列，其次，一旦
**消费者连接关闭，队列就应该被删除。**

##### 创建临时队列的方式如下：

```java
String 临时队列名称=信道.queueDeclare().getQueue();
```

### 5.3.绑定（bindings）

我们已经创建了一个交换机和一个队列。

现在，我们需要告诉交易所向队列发送消息。**交换中心和队列之间**的这种**关系**称为绑定。

绑定是交换和队列之间的关系。可以简单地理解为：队列对来自该交换的报文感兴趣。

绑定可以使用一个额外的路由键（routingKey）参数。为避免与 basic_publish 参数混淆，我们将其称为绑定密钥。

我们可以这样创建一个绑定密钥：

```java
信道.queueBind(临时队列名称, 交换机名称, 路由键);
```

### Fanout

Fanout 这种类型非常简单。它是将接收到的所有消息**广播**到它知道的所有队列中。

系统默认有这种类型（amq.fanout）的交换机。

## 本示例运行方式

* 1 运行 `W2_消费者` 和 `W3_消费者`
* 2 运行 `W1_生产者`
